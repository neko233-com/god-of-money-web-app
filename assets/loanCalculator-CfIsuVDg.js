import{i as P,y as p}from"./index-BJ1HK6wz.js";const v=P("loan",()=>{const l=p(null),u=p(null),i=p(0),a=p(0),e=p([]),n=p(!1);function t(s){l.value=s}function o(s){u.value=s}function c(s){i.value=s}function r(s){a.value=s}async function m(s){n.value=!0,await new Promise(y=>setTimeout(y,1500));const h=[`åŸºäºæ‚¨ ${s.loanAmount.toLocaleString()} å…ƒçš„è´·æ¬¾é‡‘é¢å’Œ ${s.income.toLocaleString()} å…ƒçš„æœˆæ”¶å…¥ï¼Œå»ºè®®æ‚¨ï¼š`,"","ğŸ’° **æ”¶å…¥è§„åˆ’å»ºè®®ï¼š**",`- å½“å‰æœˆä¾› ${s.monthlyPayment.toLocaleString()} å…ƒï¼Œå æ”¶å…¥çš„ ${(s.monthlyPayment/s.income*100).toFixed(1)}%`,"- å»ºè®®ä¿æŒæ”¶å…¥çš„ç¨³å®šæ€§ï¼Œå¯è€ƒè™‘å¼€å±•å‰¯ä¸šå¢åŠ æ”¶å…¥","- é¢„ç•™è‡³å°‘ 3-6 ä¸ªæœˆçš„ç”Ÿæ´»è´¹ä½œä¸ºåº”æ€¥åŸºé‡‘","","ğŸ“Š **æ”¯å‡ºä¼˜åŒ–å»ºè®®ï¼š**","- åˆ¶å®šè¯¦ç»†çš„æœˆåº¦é¢„ç®—ï¼Œæ§åˆ¶éå¿…è¦å¼€æ”¯","- ä¼˜å…ˆå¿è¿˜é«˜åˆ©ç‡å€ºåŠ¡","- è€ƒè™‘ä½¿ç”¨è®°è´¦è½¯ä»¶è·Ÿè¸ªæ—¥å¸¸å¼€é”€","","ğŸ¯ **é•¿æœŸè´¢åŠ¡è§„åˆ’ï¼š**","- å»ºè®®é…ç½®é€‚å½“çš„å•†ä¸šä¿é™©ï¼ˆé‡ç–¾ã€æ„å¤–ç­‰ï¼‰","- æ¯å¹´è¿›è¡Œä¸€æ¬¡è´¢åŠ¡å¥åº·æ£€æŸ¥","- è€ƒè™‘æŠ•èµ„ç†è´¢ï¼Œä½†è¦æ§åˆ¶é£é™©"];(s.riskLevel==="high"||s.riskLevel==="critical")&&(h.push(""),h.push("âš ï¸ **ç´§æ€¥æé†’ï¼š**"),h.push("- æ‚¨çš„è´Ÿå€ºç‡åé«˜ï¼Œå»ºè®®å°½å¿«å’¨è¯¢ä¸“ä¸šè´¢åŠ¡é¡¾é—®"),h.push("- é¿å…ä½¿ç”¨ä¿¡ç”¨å¡é€æ”¯å’Œæ¶ˆè´¹è´·æ¬¾"),h.push("- å¿…è¦æ—¶å¯è€ƒè™‘å»¶é•¿è´·æ¬¾æœŸé™ä»¥é™ä½æœˆä¾›å‹åŠ›")),e.value=h,n.value=!1}return{loanResult:l,riskAssessment:u,monthlyIncome:i,otherDebts:a,aiSuggestions:e,isLoadingAI:n,setLoanResult:t,setRiskAssessment:o,setMonthlyIncome:c,setOtherDebts:r,generateAISuggestions:m}});function f(l,u,i){const a=u/100/12,e=l*a*Math.pow(1+a,i)/(Math.pow(1+a,i)-1),n=[];let t=l;for(let c=1;c<=i;c++){const r=t*a,m=e-r;t-=m,n.push({period:c,monthlyPayment:e,principal:m,interest:r,remainingPrincipal:Math.max(0,t)})}const o=e*i;return{monthlyPayment:e,totalPayment:o,totalInterest:o-l,schedule:n}}function g(l,u,i){const a=u/100/12,e=l/i,n=[];let t=l,o=0;for(let r=1;r<=i;r++){const m=t*a,s=e+m;t-=e,o+=s,n.push({period:r,monthlyPayment:s,principal:e,interest:m,remainingPrincipal:Math.max(0,t)})}const c=o-l;return{monthlyPayment:n[0]?.monthlyPayment??0,totalPayment:o,totalInterest:c,schedule:n}}function I(l,u,i=0){const a=l+i,e=a/u*100;let n;const t=[];e<=30?(n="low",t.push("æ‚¨çš„è´Ÿå€ºç‡å¥åº·ï¼Œè´¢åŠ¡çŠ¶å†µè‰¯å¥½"),t.push("å»ºè®®ä¿æŒ 3-6 ä¸ªæœˆçš„åº”æ€¥å‚¨å¤‡é‡‘")):e<=50?(n="medium",t.push("è´Ÿå€ºç‡åé«˜ï¼Œå»ºè®®æ§åˆ¶æ¶ˆè´¹æ”¯å‡º"),t.push("å°½é‡å¢åŠ æ”¶å…¥æ¥æºï¼Œé™ä½è´Ÿå€ºæ¯”ä¾‹"),t.push("å»ºè®®æœˆæ”¶å…¥è‡³å°‘è¾¾åˆ°ï¼š"+Math.ceil(a/.3)+" å…ƒ")):e<=70?(n="high",t.push("âš ï¸ è´Ÿå€ºç‡è¿‡é«˜ï¼Œå­˜åœ¨è¾ƒå¤§è´¢åŠ¡é£é™©"),t.push("å¼ºçƒˆå»ºè®®å¢åŠ æ”¶å…¥æˆ–å»¶é•¿è´·æ¬¾æœŸé™"),t.push("é¿å…æ–°å¢å€ºåŠ¡ï¼Œä¼˜å…ˆå¿è¿˜é«˜åˆ©ç‡è´·æ¬¾"),t.push("å»ºè®®æœˆæ”¶å…¥è‡³å°‘è¾¾åˆ°ï¼š"+Math.ceil(a/.3)+" å…ƒ")):(n="critical",t.push("ğŸš¨ è´Ÿå€ºç‡ä¸¥é‡è¶…æ ‡ï¼Œè´¢åŠ¡é£é™©æé«˜"),t.push("å¿…é¡»ç«‹å³è°ƒæ•´è´¢åŠ¡è®¡åˆ’"),t.push("è€ƒè™‘å»¶é•¿è´·æ¬¾æœŸé™æˆ–å¯»æ±‚å€ºåŠ¡é‡ç»„"),t.push("å»ºè®®å’¨è¯¢ä¸“ä¸šè´¢åŠ¡é¡¾é—®"),t.push("å®‰å…¨æœˆæ”¶å…¥åº”è¾¾åˆ°ï¼š"+Math.ceil(a/.3)+" å…ƒ"));const o=Math.ceil(a/.3);return{riskLevel:n,debtRatio:e,recommendedIncome:o,suggestions:t}}function L(l,u,i,a,e,n="equal-payment"){const t=n==="equal-payment"?f:g,o=t(l,u,e),c=t(i,a,e);return{commercial:o,provident:c,total:{monthlyPayment:o.monthlyPayment+c.monthlyPayment,totalPayment:o.totalPayment+c.totalPayment,totalInterest:o.totalInterest+c.totalInterest}}}export{v as a,g as i,L as n,f as r,I as t};
