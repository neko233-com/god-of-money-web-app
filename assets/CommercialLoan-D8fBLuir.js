import{S as m,_ as s,a as x,b as k,c as V,d as f,f as t,g as r,h as S,l as L,m as d,p as F,s as l,t as B,u as v,v as E,x as M,y as D}from"./index-BJ1HK6wz.js";import{a as $,i as j,r as G,t as H}from"./loanCalculator-CfIsuVDg.js";var J={class:"page-container"},K={class:"content-wrapper"},O={key:0,class:"result-section"},Q={class:"result-item"},W={class:"value primary"},X={class:"result-item"},Y={class:"value"},Z={class:"result-item"},ee={class:"value warning"},le={class:"risk-content"},te={class:"risk-level"},ae={class:"risk-ratio"},se={class:"value"},oe={class:"recommended-income"},ne={class:"value"},ie={class:"suggestions"},re={key:1,class:"ai-suggestions"},ue=F({__name:"CommercialLoan",setup(de){const _=$(),a=E({principal:1e6,years:20,rate:4.9,paymentType:"equal-payment",income:2e4,otherDebts:0}),u=D(null),n=D(null);function I(){const i=a.years*12;a.paymentType==="equal-payment"?u.value=G(a.principal,a.rate,i):u.value=j(a.principal,a.rate,i),a.income>0&&(n.value=H(u.value.monthlyPayment,a.income,a.otherDebts),_.setRiskAssessment(n.value)),_.setLoanResult(u.value)}async function P(){u.value&&n.value&&await _.generateAISuggestions({loanAmount:a.principal,monthlyPayment:u.value.monthlyPayment,income:a.income,riskLevel:n.value.riskLevel})}function R(i){return{low:"ä½é£é™© âœ“",medium:"ä¸­ç­‰é£é™©",high:"é«˜é£é™© âš ï¸",critical:"ä¸¥é‡é£é™© ğŸš¨"}[i]||i}function A(i){return{low:"success",medium:"warning",high:"danger",critical:"danger"}[i]||"info"}function N(i){return i<=30?"#67c23a":i<=50?"#e6a23c":i<=70?"#f56c6c":"#dd0000"}return(i,e)=>{const c=r("el-input-number"),p=r("el-form-item"),w=r("el-radio"),T=r("el-radio-group"),C=r("el-button"),q=r("el-form"),g=r("el-card"),y=r("el-col"),z=r("el-row"),U=r("el-tag"),h=r("el-progress");return d(),v("div",J,[l("div",K,[e[25]||(e[25]=l("div",{class:"page-header"},[l("h1",null,"ğŸ¢ å•†ä¸šè´·æ¬¾è®¡ç®—å™¨"),l("p",null,"ä¸“ä¸šçš„å•†ä¸šè´·æ¬¾è®¡ç®—ä¸é£é™©è¯„ä¼°å·¥å…·")],-1)),t(g,{class:"calculator-card"},{default:s(()=>[e[14]||(e[14]=l("h2",null,"è´·æ¬¾å‚æ•°è®¾ç½®",-1)),t(q,{model:a,"label-width":"120px",class:"loan-form"},{default:s(()=>[t(p,{label:"è´·æ¬¾é‡‘é¢"},{default:s(()=>[t(c,{modelValue:a.principal,"onUpdate:modelValue":e[0]||(e[0]=o=>a.principal=o),min:1e4,max:1e8,step:1e4,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"]),e[6]||(e[6]=l("span",{class:"unit"},"å…ƒ",-1))]),_:1}),t(p,{label:"è´·æ¬¾å¹´é™"},{default:s(()=>[t(c,{modelValue:a.years,"onUpdate:modelValue":e[1]||(e[1]=o=>a.years=o),min:1,max:30,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"]),e[7]||(e[7]=l("span",{class:"unit"},"å¹´",-1))]),_:1}),t(p,{label:"å¹´åˆ©ç‡"},{default:s(()=>[t(c,{modelValue:a.rate,"onUpdate:modelValue":e[2]||(e[2]=o=>a.rate=o),min:.1,max:20,step:.1,precision:2,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"]),e[8]||(e[8]=l("span",{class:"unit"},"%",-1))]),_:1}),t(p,{label:"è¿˜æ¬¾æ–¹å¼"},{default:s(()=>[t(T,{modelValue:a.paymentType,"onUpdate:modelValue":e[3]||(e[3]=o=>a.paymentType=o)},{default:s(()=>[t(w,{value:"equal-payment"},{default:s(()=>[...e[9]||(e[9]=[f("ç­‰é¢æœ¬æ¯",-1)])]),_:1}),t(w,{value:"equal-principal"},{default:s(()=>[...e[10]||(e[10]=[f("ç­‰é¢æœ¬é‡‘",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(p,{label:"æœˆæ”¶å…¥"},{default:s(()=>[t(c,{modelValue:a.income,"onUpdate:modelValue":e[4]||(e[4]=o=>a.income=o),min:0,max:1e7,step:1e3,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"]),e[11]||(e[11]=l("span",{class:"unit"},"å…ƒ",-1))]),_:1}),t(p,{label:"å…¶ä»–æœˆå€ºåŠ¡"},{default:s(()=>[t(c,{modelValue:a.otherDebts,"onUpdate:modelValue":e[5]||(e[5]=o=>a.otherDebts=o),min:0,max:1e6,step:100,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"]),e[12]||(e[12]=l("span",{class:"unit"},"å…ƒ",-1))]),_:1}),t(p,null,{default:s(()=>[t(C,{type:"primary",onClick:I,size:"large"},{default:s(()=>[...e[13]||(e[13]=[f(" è®¡ç®—è´·æ¬¾ ",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),u.value?(d(),v("div",O,[t(z,{gutter:20},{default:s(()=>[t(y,{span:8},{default:s(()=>[t(g,{class:"result-card"},{default:s(()=>[l("div",Q,[e[15]||(e[15]=l("div",{class:"label"},"æœˆä¾›é‡‘é¢",-1)),l("div",W,"Â¥"+m(u.value.monthlyPayment.toLocaleString("zh-CN",{minimumFractionDigits:2})),1)])]),_:1})]),_:1}),t(y,{span:8},{default:s(()=>[t(g,{class:"result-card"},{default:s(()=>[l("div",X,[e[16]||(e[16]=l("div",{class:"label"},"æ€»è¿˜æ¬¾é¢",-1)),l("div",Y,"Â¥"+m(u.value.totalPayment.toLocaleString("zh-CN",{minimumFractionDigits:2})),1)])]),_:1})]),_:1}),t(y,{span:8},{default:s(()=>[t(g,{class:"result-card"},{default:s(()=>[l("div",Z,[e[17]||(e[17]=l("div",{class:"label"},"æ€»åˆ©æ¯",-1)),l("div",ee,"Â¥"+m(u.value.totalInterest.toLocaleString("zh-CN",{minimumFractionDigits:2})),1)])]),_:1})]),_:1})]),_:1}),n.value?(d(),V(g,{key:0,class:M(["risk-card",`risk-${n.value.riskLevel}`])},{default:s(()=>[e[22]||(e[22]=l("h2",null,"ğŸ“Š è´¢åŠ¡é£é™©è¯„ä¼°",-1)),l("div",le,[l("div",te,[e[18]||(e[18]=l("span",{class:"label"},"é£é™©ç­‰çº§ï¼š",-1)),t(U,{type:A(n.value.riskLevel),size:"large"},{default:s(()=>[f(m(R(n.value.riskLevel)),1)]),_:1},8,["type"])]),l("div",ae,[e[19]||(e[19]=l("span",{class:"label"},"è´Ÿå€ºç‡ï¼š",-1)),l("span",se,m(n.value.debtRatio.toFixed(2))+"%",1),t(h,{percentage:Math.min(n.value.debtRatio,100),color:N(n.value.debtRatio),"stroke-width":20},null,8,["percentage","color"])]),l("div",oe,[e[20]||(e[20]=l("span",{class:"label"},"å»ºè®®æœˆæ”¶å…¥ï¼š",-1)),l("span",ne,"Â¥"+m(n.value.recommendedIncome.toLocaleString()),1)]),l("div",ie,[e[21]||(e[21]=l("h3",null,"ğŸ’¡ ä¸“ä¸šå»ºè®®",-1)),l("ul",null,[(d(!0),v(x,null,S(n.value.suggestions,(o,b)=>(d(),v("li",{key:b},m(o),1))),128))])])])]),_:1},8,["class"])):L("",!0),a.income>0?(d(),V(g,{key:1,class:"ai-card"},{default:s(()=>[e[24]||(e[24]=l("h2",null,"ğŸ¤– AI æ™ºèƒ½è´¢åŠ¡å»ºè®®",-1)),k(_).aiSuggestions.length?(d(),v("div",re,[(d(!0),v(x,null,S(k(_).aiSuggestions,(o,b)=>(d(),v("div",{key:b,class:"ai-item"},m(o),1))),128))])):(d(),V(C,{key:0,type:"primary",onClick:P,loading:k(_).isLoadingAI},{default:s(()=>[...e[23]||(e[23]=[f(" è·å– AI ä¸ªæ€§åŒ–å»ºè®® ",-1)])]),_:1},8,["loading"]))]),_:1})):L("",!0)])):L("",!0)])])}}}),ve=B(ue,[["__scopeId","data-v-b81bccd8"]]);export{ve as default};
