import{S as s,_ as n,a as z,b as S,c as x,d as p,f as l,g as u,h as F,l as P,m as v,o as R,p as G,s as e,t as J,u as y,v as K,x as O,y as I}from"./index-BJ1HK6wz.js";import{a as Q,n as W,t as X}from"./loanCalculator-CfIsuVDg.js";var Y={class:"page-container"},Z={class:"content-wrapper"},tt={key:0,class:"result-section"},et={class:"result-item"},lt={class:"value primary"},nt={class:"result-item"},at={class:"value"},ot={class:"result-item"},st={class:"value warning"},it={class:"detail-item"},ut={class:"detail-item"},rt={class:"highlight-text"},dt={class:"detail-item"},mt={class:"detail-item"},pt={class:"detail-item"},vt={class:"detail-item"},gt={class:"highlight-text"},ft={class:"detail-item"},yt={class:"detail-item"},_t={class:"risk-content"},bt={class:"risk-level"},Vt={class:"risk-ratio"},Lt={class:"value"},kt={class:"recommended-income"},wt={class:"value"},ct={class:"suggestions"},St={key:1,class:"ai-suggestions"},xt=G({__name:"HousingLoan",setup(Pt){const _=Q(),a=K({housePrice:3e6,downPaymentRatio:30,providentAmount:8e5,providentRate:3.25,commercialRate:4.9,years:25,paymentType:"equal-payment",income:3e4,otherDebts:0}),C=R(()=>Math.floor(a.housePrice*(a.downPaymentRatio/100))),L=R(()=>a.housePrice-C.value),k=R(()=>Math.max(0,L.value-a.providentAmount)),i=I(null),r=I(null);function U(){const m=a.years*12;i.value=W(k.value,a.commercialRate,a.providentAmount,a.providentRate,m,a.paymentType),a.income>0&&(r.value=X(i.value.total.monthlyPayment,a.income,a.otherDebts),_.setRiskAssessment(r.value))}async function T(){i.value&&r.value&&await _.generateAISuggestions({loanAmount:L.value,monthlyPayment:i.value.total.monthlyPayment,income:a.income,riskLevel:r.value.riskLevel})}function B(m){return{low:"ä½é£é™© âœ“",medium:"ä¸­ç­‰é£é™©",high:"é«˜é£é™© âš ï¸",critical:"ä¸¥é‡é£é™© ğŸš¨"}[m]||m}function q(m){return{low:"success",medium:"warning",high:"danger",critical:"danger"}[m]||"info"}function H(m){return m<=30?"#67c23a":m<=50?"#e6a23c":m<=70?"#f56c6c":"#dd0000"}return(m,t)=>{const b=u("el-divider"),f=u("el-input-number"),d=u("el-form-item"),M=u("el-slider"),w=u("el-input"),A=u("el-radio"),h=u("el-radio-group"),D=u("el-button"),E=u("el-form"),g=u("el-card"),V=u("el-col"),N=u("el-row"),$=u("el-tag"),j=u("el-progress");return v(),y("div",Y,[e("div",Z,[t[49]||(t[49]=e("div",{class:"page-header"},[e("h1",null,"ğŸ  è´­æˆ¿è´·æ¬¾è®¡ç®—å™¨"),e("p",null,"å…¬ç§¯é‡‘è´·æ¬¾ + å•†ä¸šè´·æ¬¾ç»„åˆè®¡ç®—")],-1)),l(g,{class:"calculator-card"},{default:n(()=>[t[28]||(t[28]=e("h2",null,"è´­æˆ¿è´·æ¬¾å‚æ•°",-1)),l(E,{model:a,"label-width":"140px",class:"loan-form"},{default:n(()=>[l(b,{"content-position":"left"},{default:n(()=>[...t[9]||(t[9]=[p("æˆ¿å±‹ä¿¡æ¯",-1)])]),_:1}),l(d,{label:"æˆ¿å±‹æ€»ä»·"},{default:n(()=>[l(f,{modelValue:a.housePrice,"onUpdate:modelValue":t[0]||(t[0]=o=>a.housePrice=o),min:1e5,max:1e8,step:1e4,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"]),t[10]||(t[10]=e("span",{class:"unit"},"å…ƒ",-1))]),_:1}),l(d,{label:"é¦–ä»˜æ¯”ä¾‹"},{default:n(()=>[l(M,{modelValue:a.downPaymentRatio,"onUpdate:modelValue":t[1]||(t[1]=o=>a.downPaymentRatio=o),min:20,max:80,step:5,"show-input":""},null,8,["modelValue"]),t[11]||(t[11]=e("span",{class:"unit"},"%",-1))]),_:1}),l(d,{label:"é¦–ä»˜é‡‘é¢"},{default:n(()=>[l(w,{value:C.value.toLocaleString(),disabled:"",style:{width:"100%"}},null,8,["value"]),t[12]||(t[12]=e("span",{class:"unit"},"å…ƒ",-1))]),_:1}),l(d,{label:"è´·æ¬¾æ€»é¢"},{default:n(()=>[l(w,{value:L.value.toLocaleString(),disabled:"",style:{width:"100%"}},null,8,["value"]),t[13]||(t[13]=e("span",{class:"unit"},"å…ƒ",-1))]),_:1}),l(b,{"content-position":"left"},{default:n(()=>[...t[14]||(t[14]=[p("å…¬ç§¯é‡‘è´·æ¬¾",-1)])]),_:1}),l(d,{label:"å…¬ç§¯é‡‘è´·æ¬¾é¢åº¦"},{default:n(()=>[l(f,{modelValue:a.providentAmount,"onUpdate:modelValue":t[2]||(t[2]=o=>a.providentAmount=o),min:0,max:L.value,step:1e4,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue","max"]),t[15]||(t[15]=e("span",{class:"unit"},"å…ƒ",-1))]),_:1}),l(d,{label:"å…¬ç§¯é‡‘è´·æ¬¾åˆ©ç‡"},{default:n(()=>[l(f,{modelValue:a.providentRate,"onUpdate:modelValue":t[3]||(t[3]=o=>a.providentRate=o),min:.1,max:10,step:.1,precision:2,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"]),t[16]||(t[16]=e("span",{class:"unit"},"%",-1))]),_:1}),l(b,{"content-position":"left"},{default:n(()=>[...t[17]||(t[17]=[p("å•†ä¸šè´·æ¬¾",-1)])]),_:1}),l(d,{label:"å•†ä¸šè´·æ¬¾é¢åº¦"},{default:n(()=>[l(w,{value:k.value.toLocaleString(),disabled:"",style:{width:"100%"}},null,8,["value"]),t[18]||(t[18]=e("span",{class:"unit"},"å…ƒï¼ˆè‡ªåŠ¨è®¡ç®—ï¼‰",-1))]),_:1}),l(d,{label:"å•†ä¸šè´·æ¬¾åˆ©ç‡"},{default:n(()=>[l(f,{modelValue:a.commercialRate,"onUpdate:modelValue":t[4]||(t[4]=o=>a.commercialRate=o),min:.1,max:20,step:.1,precision:2,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"]),t[19]||(t[19]=e("span",{class:"unit"},"%",-1))]),_:1}),l(b,{"content-position":"left"},{default:n(()=>[...t[20]||(t[20]=[p("è¿˜æ¬¾è®¾ç½®",-1)])]),_:1}),l(d,{label:"è´·æ¬¾å¹´é™"},{default:n(()=>[l(f,{modelValue:a.years,"onUpdate:modelValue":t[5]||(t[5]=o=>a.years=o),min:1,max:30,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"]),t[21]||(t[21]=e("span",{class:"unit"},"å¹´",-1))]),_:1}),l(d,{label:"è¿˜æ¬¾æ–¹å¼"},{default:n(()=>[l(h,{modelValue:a.paymentType,"onUpdate:modelValue":t[6]||(t[6]=o=>a.paymentType=o)},{default:n(()=>[l(A,{value:"equal-payment"},{default:n(()=>[...t[22]||(t[22]=[p("ç­‰é¢æœ¬æ¯",-1)])]),_:1}),l(A,{value:"equal-principal"},{default:n(()=>[...t[23]||(t[23]=[p("ç­‰é¢æœ¬é‡‘",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(b,{"content-position":"left"},{default:n(()=>[...t[24]||(t[24]=[p("è´¢åŠ¡çŠ¶å†µ",-1)])]),_:1}),l(d,{label:"å®¶åº­æœˆæ”¶å…¥"},{default:n(()=>[l(f,{modelValue:a.income,"onUpdate:modelValue":t[7]||(t[7]=o=>a.income=o),min:0,max:1e7,step:1e3,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"]),t[25]||(t[25]=e("span",{class:"unit"},"å…ƒ",-1))]),_:1}),l(d,{label:"å…¶ä»–æœˆå€ºåŠ¡"},{default:n(()=>[l(f,{modelValue:a.otherDebts,"onUpdate:modelValue":t[8]||(t[8]=o=>a.otherDebts=o),min:0,max:1e6,step:100,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"]),t[26]||(t[26]=e("span",{class:"unit"},"å…ƒ",-1))]),_:1}),l(d,null,{default:n(()=>[l(D,{type:"primary",onClick:U,size:"large"},{default:n(()=>[...t[27]||(t[27]=[p(" è®¡ç®—è´­æˆ¿è´·æ¬¾ ",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),i.value?(v(),y("div",tt,[l(N,{gutter:20},{default:n(()=>[l(V,{span:8},{default:n(()=>[l(g,{class:"result-card highlight"},{default:n(()=>[e("div",et,[t[29]||(t[29]=e("div",{class:"label"},"æ¯æœˆæ€»è¿˜æ¬¾",-1)),e("div",lt,"Â¥"+s(i.value.total.monthlyPayment.toLocaleString("zh-CN",{minimumFractionDigits:2})),1)])]),_:1})]),_:1}),l(V,{span:8},{default:n(()=>[l(g,{class:"result-card"},{default:n(()=>[e("div",nt,[t[30]||(t[30]=e("div",{class:"label"},"è¿˜æ¬¾æ€»é¢",-1)),e("div",at,"Â¥"+s(i.value.total.totalPayment.toLocaleString("zh-CN",{minimumFractionDigits:2})),1)])]),_:1})]),_:1}),l(V,{span:8},{default:n(()=>[l(g,{class:"result-card"},{default:n(()=>[e("div",ot,[t[31]||(t[31]=e("div",{class:"label"},"æ€»åˆ©æ¯",-1)),e("div",st,"Â¥"+s(i.value.total.totalInterest.toLocaleString("zh-CN",{minimumFractionDigits:2})),1)])]),_:1})]),_:1})]),_:1}),l(N,{gutter:20,style:{"margin-top":"20px"}},{default:n(()=>[l(V,{span:12},{default:n(()=>[l(g,null,{default:n(()=>[t[36]||(t[36]=e("h3",null,"ğŸ¦ å…¬ç§¯é‡‘è´·æ¬¾æ˜ç»†",-1)),e("div",it,[t[32]||(t[32]=e("span",null,"è´·æ¬¾é‡‘é¢ï¼š",-1)),e("span",null,"Â¥"+s(a.providentAmount.toLocaleString()),1)]),e("div",ut,[t[33]||(t[33]=e("span",null,"æœˆä¾›ï¼š",-1)),e("span",rt,"Â¥"+s(i.value.provident.monthlyPayment.toLocaleString("zh-CN",{minimumFractionDigits:2})),1)]),e("div",dt,[t[34]||(t[34]=e("span",null,"æ€»è¿˜æ¬¾ï¼š",-1)),e("span",null,"Â¥"+s(i.value.provident.totalPayment.toLocaleString("zh-CN",{minimumFractionDigits:2})),1)]),e("div",mt,[t[35]||(t[35]=e("span",null,"åˆ©æ¯ï¼š",-1)),e("span",null,"Â¥"+s(i.value.provident.totalInterest.toLocaleString("zh-CN",{minimumFractionDigits:2})),1)])]),_:1})]),_:1}),l(V,{span:12},{default:n(()=>[l(g,null,{default:n(()=>[t[41]||(t[41]=e("h3",null,"ğŸ¢ å•†ä¸šè´·æ¬¾æ˜ç»†",-1)),e("div",pt,[t[37]||(t[37]=e("span",null,"è´·æ¬¾é‡‘é¢ï¼š",-1)),e("span",null,"Â¥"+s(k.value.toLocaleString()),1)]),e("div",vt,[t[38]||(t[38]=e("span",null,"æœˆä¾›ï¼š",-1)),e("span",gt,"Â¥"+s(i.value.commercial.monthlyPayment.toLocaleString("zh-CN",{minimumFractionDigits:2})),1)]),e("div",ft,[t[39]||(t[39]=e("span",null,"æ€»è¿˜æ¬¾ï¼š",-1)),e("span",null,"Â¥"+s(i.value.commercial.totalPayment.toLocaleString("zh-CN",{minimumFractionDigits:2})),1)]),e("div",yt,[t[40]||(t[40]=e("span",null,"åˆ©æ¯ï¼š",-1)),e("span",null,"Â¥"+s(i.value.commercial.totalInterest.toLocaleString("zh-CN",{minimumFractionDigits:2})),1)])]),_:1})]),_:1})]),_:1}),r.value?(v(),x(g,{key:0,class:O(["risk-card",`risk-${r.value.riskLevel}`])},{default:n(()=>[t[46]||(t[46]=e("h2",null,"ğŸ“Š è´­æˆ¿è´¢åŠ¡é£é™©è¯„ä¼°",-1)),e("div",_t,[e("div",bt,[t[42]||(t[42]=e("span",{class:"label"},"é£é™©ç­‰çº§ï¼š",-1)),l($,{type:q(r.value.riskLevel),size:"large"},{default:n(()=>[p(s(B(r.value.riskLevel)),1)]),_:1},8,["type"])]),e("div",Vt,[t[43]||(t[43]=e("span",{class:"label"},"æœˆä¾›æ”¶å…¥æ¯”ï¼š",-1)),e("span",Lt,s(r.value.debtRatio.toFixed(2))+"%",1),l(j,{percentage:Math.min(r.value.debtRatio,100),color:H(r.value.debtRatio),"stroke-width":20},null,8,["percentage","color"])]),e("div",kt,[t[44]||(t[44]=e("span",{class:"label"},"å»ºè®®å®¶åº­æœˆæ”¶å…¥ï¼š",-1)),e("span",wt,"Â¥"+s(r.value.recommendedIncome.toLocaleString()),1)]),e("div",ct,[t[45]||(t[45]=e("h3",null,"ğŸ’¡ è´­æˆ¿è´¢åŠ¡å»ºè®®",-1)),e("ul",null,[(v(!0),y(z,null,F(r.value.suggestions,(o,c)=>(v(),y("li",{key:c},s(o),1))),128))])])])]),_:1},8,["class"])):P("",!0),a.income>0?(v(),x(g,{key:1,class:"ai-card"},{default:n(()=>[t[48]||(t[48]=e("h2",null,"ğŸ¤– AI è´­æˆ¿è´¢åŠ¡è§„åˆ’",-1)),S(_).aiSuggestions.length?(v(),y("div",St,[(v(!0),y(z,null,F(S(_).aiSuggestions,(o,c)=>(v(),y("div",{key:c,class:"ai-item"},s(o),1))),128))])):(v(),x(D,{key:0,type:"primary",onClick:T,loading:S(_).isLoadingAI},{default:n(()=>[...t[47]||(t[47]=[p(" è·å– AI è´­æˆ¿å»ºè®® ",-1)])]),_:1},8,["loading"]))]),_:1})):P("",!0)])):P("",!0)])])}}}),At=J(xt,[["__scopeId","data-v-d8f64cbd"]]);export{At as default};
